--// Horse Race with Casino Style GUI 🐴🚩🎰
local Players = game:GetService("Players")
local TextChatService = game:GetService("TextChatService")
local player = Players.LocalPlayer
local channel = TextChatService.TextChannels.RBXGeneral

-- GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local button = Instance.new("TextButton")
button.Size = UDim2.new(0, 180, 0, 60)
button.Position = UDim2.new(0.5, -90, 0.8, 0)
button.BackgroundColor3 = Color3.fromRGB(20, 20, 20) -- siyah
button.TextColor3 = Color3.fromRGB(255, 215, 0) -- altın sarısı
button.Text = "🎰 Start Race 🎲"
button.Font = Enum.Font.Fantasy
button.TextSize = 22
button.Parent = screenGui
button.AutoButtonColor = true
button.BorderSizePixel = 0

-- Kenarları yuvarlak + altın glow efekti
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 20)
UICorner.Parent = button

local UIStroke = Instance.new("UIStroke")
UIStroke.Thickness = 3
UIStroke.Color = Color3.fromRGB(255, 215, 0) -- altın kenar
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
UIStroke.Parent = button

-- Yarış fonksiyonu
local function startRace()
	button.Visible = false
	local HORSES = {"🐴1","🐴2","🐴3","🐴4","🐴5"}
	local START_DISTANCE = 20
	local DELAY = 5

	local function send(msg)
		channel:SendAsync(msg)
	end

	send("🏁 Horse Race Başlıyor! 🐎🚩")

	-- Eleme turu
	local activeHorses = {unpack(HORSES)}
	while #activeHorses > 2 do
		task.wait(DELAY)

		local eliminatedIndex = math.random(1,#activeHorses)
		local eliminatedHorse = table.remove(activeHorses, eliminatedIndex)

		send(eliminatedHorse .. " Eliminated 💀")
		send("Kalan Atlar: " .. table.concat(activeHorses, " "))
	end

	-- Final
	send("🔥 Final Başlıyor! " .. activeHorses[1] .. " vs " .. activeHorses[2])

	local distances = {START_DISTANCE, START_DISTANCE}
	local finished = false
	local winner = nil

	while not finished do
		task.wait(DELAY)

		for i = 1,2 do
			distances[i] = math.max(0, distances[i] - math.random(1,2))
			if distances[i] <= 0 and not finished then
				finished = true
				winner = activeHorses[i]
			end
		end

		-- Pist çiz
		local lines = {}
		for i = 1,2 do
			local track = string.rep("_", distances[i])
			table.insert(lines, activeHorses[i] .. " " .. track .. "🚩")
		end
		send(table.concat(lines, "\n"))
	end

	if winner then
		send("🏆 " .. winner .. " WINS THE RACE!!! 🏆")
	end

	task.wait(5)
	button.Visible = true
end

button.MouseButton1Click:Connect(startRace)
